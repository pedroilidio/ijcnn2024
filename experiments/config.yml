defaults:
  aliases:
    estimator:
      params: {}
    dataset:
      call: scripts.running.data_loaders.load_nakano
      params:
        min_positives: 30

  runs:
    directory: runs
    active: false
    metaestimator: null
    cv:
      call: scripts.running.cross_validation.cross_validate_cascade_levels
      params:
        n_jobs: 5
        return_fitted_params:
        - n_components_
        - label_frequency_estimates_
        - enable_imputation_
        return_train_score: true
        scoring:
          !!python/name:scripts.running.scoring.all_scorers ''
        cv:
          !!python/object/apply:scripts.running.cross_validation.make_iterative_stratification
          kwds: {n_splits: 5}
        verbose: 10

aliases:
  dataset:
  - name: CAL500
    params:
      path: ../data/MLC/CAL500.csv
  - name: CHD_49
    params:
      path: ../data/MLC/CHD_49.csv
  - name: Gram_negative
    params:
      path: ../data/MLC/Gram_negative.csv
  - name: Gram_positive
    params:
      path: ../data/MLC/Gram_positive.csv
  - name: GrampositivePseAAC
    params:
      path: ../data/MLC/GrampositivePseAAC.csv
  - name: LLOG
    params:
      path: ../data/MLC/LLOG.csv
  - name: PlantGO
    params:
      path: ../data/MLC/PlantGO.csv
  - name: VirusGO
    params:
      path: ../data/MLC/VirusGO.csv
  - name: VirusPseAAC
    params:
      path: ../data/MLC/VirusPseAAC.csv
  - name: VirusPseAAC
    params:
      path: ../data/MLC/VirusPseAAC.csv
  - name: emotions
    params:
      path: ../data/MLC/emotions.csv
  - name: flags
    params:
      path: ../data/MLC/flags.csv
  - name: medical
    params:
      path: ../data/MLC/medical.csv
  - name: yeast
    params:
      path: ../data/MLC/yeast.csv
  - name: scene
    params:
      path: ../data/MLC/scene.csv
  - name: genbase
    params:
      path: ../data/MLC/genbase.csv
  - name: enron
    params:
      path: ../data/MLC/enron.csv
  - name: birds
    params:
      path: ../data/MLC/birds.csv


  estimator:
  - name: lcforest
    call: model_building.estimators.lcforest
  - name: gcforest
    call: model_building.estimators.gcforest

  - name: cascade_proba
    call: model_building.estimators.cascade_proba
  - name: cafe
    call: model_building.estimators.cafe
  - name: cafe_os
    call: model_building.estimators.cafe_os
  - name: cafe_chi2
    call: model_building.estimators.cafe_chi2

  - name: slcforest
    call: model_building.estimators.slcforest
  - name: cascade_lc_tree_embedder
    call: model_building.estimators.cascade_lc_tree_embedder
  - name: cafe_slc
    call: model_building.estimators.cafe_slc
  - name: cascade_lc_tree_embedder_chi2
    call: model_building.estimators.cascade_lc_tree_embedder_chi2

  - name: flaforest
    call: model_building.estimators.flaforest
  - name: cascade_scar_tree_embedder
    call: model_building.estimators.cascade_scar_tree_embedder
  - name: cafe_fla
    call: model_building.estimators.cafe_fla
  - name: cascade_scar_tree_embedder_chi2
    call: model_building.estimators.cascade_scar_tree_embedder_chi2


  wrapper:
  - name: drop90
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.9
      random_state: 0
  - name: drop80
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.8
      random_state: 0
  - name: drop70
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.7
      random_state: 0
  - name: drop60
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.6
      random_state: 0
  - name: drop50
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.5
      random_state: 0
  - name: drop40
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.4
      random_state: 0
  - name: drop30
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.3
      random_state: 0
  - name: drop20
    call: model_building.positive_dropper.wrap_estimator
    params:
      drop: 0.2
      random_state: 0


runs:
  # TEST
  - wrapper:
      - drop50
    dataset: PlantGO
    estimator:
    - gcforest
    active: false
    cv:
      params:
        n_jobs: 1
        error_score: raise

  - wrapper: null
    dataset: flags
    estimator: lcforest
    active: false

  - wrapper:
    - drop30
    - drop50
    - drop70
    - null
    # - drop20
    # - drop40
    # - drop60
    # - drop80
    # - drop90
    dataset:              # n_samples  n_features  n_labels   y_size
    - VirusGO             #     207         749         6     1242
    - VirusPseAAC         #     207         440         6     1242
    - flags               #     194          19         7     1358
    - GrampositivePseAAC  #     519         440         4     2076
    - CHD_49              #     555          49         6     3330
    - emotions            #     593          72         6     3558
    - birds               #     645         260        19    12255
    - Gram_negative       #    1392        1717         8    11136
    - PlantGO             #     978        3091        12    11736
    - medical             #     978        1449        45    44010
    - scene               #    2407         294         6    14442
    - yeast               #    2417         103        14    33838
    - enron               #    1702        1001        53    90206
    # - Gram_positive       #     519         912         4     2076
    # - genbase             #     662        1185        27    17874
    # - CAL500              #     502          68       174    87348
    # - LLOG                #    1460          75      1004  1465840
    estimator:
    - lcforest
    - gcforest
    - cafe
    - cafe_os
    - slcforest
    - flaforest
    - cafe_slc
    - cafe_fla
    active: true
  